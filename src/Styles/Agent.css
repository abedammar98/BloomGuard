/* The chat page shares theme vars from Home.css */
.agent-page {
  display: flex;
  flex-direction: column;
  height: 100dvh;
  background:
    radial-gradient(900px 500px at 95% 5%, rgba(67,196,99,0.12), transparent 60%),
    radial-gradient(900px 500px at 5% 10%, rgba(71,179,255,0.12), transparent 60%),
    linear-gradient(180deg, var(--bg), #0b1522 60%);
  color: var(--fg);
}

/* We removed the old .agent-header (Navbar is used instead) */

/* Chat area fills remaining space below the navbar */
.agent-chat {
  flex: 1;
  padding: 1rem;
  overflow: auto;
  scroll-behavior: smooth;
  display: flex;
  flex-direction: column;
  gap: .75rem;
  margin-top: .5rem;
}

/* Bubbles */
.bubble {
  max-width: 900px;
  width: fit-content;
  padding: .9rem 1rem;
  border-radius: 1rem;
  line-height: 1.5;
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.06);
}
.bubble.user {
  align-self: flex-end;
  background: linear-gradient(135deg, var(--primary), #6bd1ff);
  color: #00121e;
}
.bubble.bot {
  align-self: flex-start;
  background: var(--card);
  color: var(--fg);
}

.bubble-role {
  font-size: .8rem;
  opacity: .7;
  margin-bottom: .25rem;
}
.bubble-content {
  white-space: pre-wrap;
}

/* Typing indicator */
.typing {
  display: inline-flex;
  gap: .35rem;
  align-items: center;
}
.typing span {
  width: .4rem;
  height: .4rem;
  border-radius: 999px;
  background: #cfe9ff;
  opacity: .6;
  animation: bounce 1.1s infinite ease-in-out;
}
.typing span:nth-child(2) { animation-delay: .15s; }
.typing span:nth-child(3) { animation-delay: .3s; }
@keyframes bounce {
  0%, 80%, 100% { transform: translateY(0); }
  40% { transform: translateY(-5px); }
}

/* keep your existing file â€” it already uses var(--card) & dark bg */
/* only small polish for the message box so it matches card styling */

.papers {
  margin-top: .6rem;
  border-top: 1px solid rgba(255,255,255,.08);
  padding-top: .6rem;
  background: transparent;
}

.papers-title {
  font-weight: 700;
  margin-bottom: .25rem;
}
.papers-list {
  display: grid;
  gap: .5rem;
  padding-left: 1rem;
}
.paper-item { list-style: disc; }
.paper-title { font-weight: 600; }
.paper-snippet { color: var(--muted); }
.paper-link {
  color: var(--fg);
  text-decoration: underline;
}

/* Input bar */
.agent-inputbar {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: .5rem;
  padding: .75rem;
  background: rgba(0,0,0,.2);
  border-top: 1px solid rgba(255,255,255,.06);
  position: sticky;
  bottom: 0;
}
.agent-input {
  border: 1px solid rgba(255,255,255,.15);
  background: var(--card);
  border-radius: .8rem;
  padding: .9rem 1rem;
  color: var(--fg);
  outline: none;
}
.agent-input:focus {
  border-color: rgba(71,179,255,.5);
}

/* Reuse global .btn + .btn-primary from Home.css */
.send-btn {
  border-radius: .8rem;
  padding: .9rem 1.2rem;
}

/* Error box */
.agent-error {
  color: #ffd6d6;
  background: rgba(255,0,0,.08);
  border: 1px solid rgba(255,0,0,.2);
  padding: .5rem .75rem;
  margin: .25rem .75rem;
  border-radius: .6rem;
}

/* Responsive */
@media (max-width: 768px) {
  .bubble { max-width: 95%; }
}
